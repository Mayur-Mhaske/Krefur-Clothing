<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Krefur Kidswear</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" />
  <link rel="stylesheet" href="kidswear.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css">
  <style>
    .bottom-nav {
      position: fixed;
      bottom: 0;
      left: 0;
      width: 100%;
      background: #f8f9fa;
      display: flex;
      justify-content: space-around;
      padding: 10px 0;
      border-top: 1px solid #ccc;
    }
    .bottom-nav i {
      font-size: 1.2rem;
    }
  </style>
</head>
<body>

<!-- Navbar -->
<nav class="navbar navbar-light bg-light px-3 d-flex justify-content-between">
  <span class="navbar-brand brand">KREFUR</span>
  <div>
    <i class="bi bi-heart mx-2"></i>
    <i class="bi bi-person mx-2"></i>
    <i class="bi bi-bag mx-2" id="cartIcon" style="cursor:pointer;"></i>
  </div>
</nav>

<!-- Product Cards -->
<div class="container mt-4">
  <div class="row">
    <!-- Products 1 to 5 -->
    <!-- Repeatable product card code below -->
    <div class="col-md-4 mb-4">
      <div class="card">
        <img src="K3.jpeg" class="card-img-top" alt="Kids Dress 1">
        <div class="card-body">
          <h5 class="card-title">Stylish Dress 1</h5>
          <p>Soft and comfortable for kids.</p>
          <p><strong>₹499</strong></p>
          <button class="btn btn-primary" onclick="addToCart('Stylish Dress 1', 499)">Add to Cart</button>
        </div>
      </div>
    </div>

    <!-- Repeat similar blocks for other products -->
    <!-- Product 2 -->
    <div class="col-md-4 mb-4">
      <div class="card">
        <img src="K2.jpeg" class="card-img-top" alt="Kids Dress 2">
        <div class="card-body">
          <h5 class="card-title">Stylish Dress 2</h5>
          <p>Trendy design with premium fabric.</p>
          <p><strong>₹549</strong></p>
          <button class="btn btn-primary" onclick="addToCart('Stylish Dress 2', 549)">Add to Cart</button>
        </div>
      </div>
    </div>

    <!-- Product 3 -->
    <div class="col-md-4 mb-4">
      <div class="card">
        <img src="K3.jpeg" class="card-img-top" alt="Kids Dress 3">
        <div class="card-body">
          <h5 class="card-title">Stylish Dress 3</h5>
          <p>Perfect for casual and party wear.</p>
          <p><strong>₹599</strong></p>
          <button class="btn btn-primary" onclick="addToCart('Stylish Dress 3', 599)">Add to Cart</button>
        </div>
      </div>
    </div>

    <!-- Product 4 -->
    <div class="col-md-4 mb-4">
      <div class="card">
        <img src="K4.jpeg" class="card-img-top" alt="Kids Dress 4">
        <div class="card-body">
          <h5 class="card-title">Stylish Dress 4</h5>
          <p>Elegant and cozy for daily use.</p>
          <p><strong>₹569</strong></p>
          <button class="btn btn-primary" onclick="addToCart('Stylish Dress 4', 569)">Add to Cart</button>
        </div>
      </div>
    </div>

    <!-- Product 5 -->
    <div class="col-md-4 mb-4">
      <div class="card">
        <img src="K5.jpeg" class="card-img-top" alt="Kids Dress 5">
        <div class="card-body">
          <h5 class="card-title">Stylish Dress 5</h5>
          <p>Bright colors and durable stitching.</p>
          <p><strong>₹520</strong></p>
          <button class="btn btn-primary" onclick="addToCart('Stylish Dress 5', 520)">Add to Cart</button>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- Cart Modal -->
<div class="modal fade" id="cartModal" tabindex="-1">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">Your Cart</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
      </div>
      <div class="modal-body" id="cartItems"></div>
      <div class="modal-footer">
        <button type="button" class="btn btn-success" id="checkoutBtn">Checkout</button>
      </div>
    </div>
  </div>
</div>

<!-- Address Modal -->
<div class="modal fade" id="addressModal" tabindex="-1">
  <div class="modal-dialog">
    <form class="modal-content" id="addressForm">
      <div class="modal-header">
        <h5 class="modal-title">Delivery Address</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
      </div>
      <div class="modal-body">
        <input name="name" class="form-control mb-2" placeholder="Full Name" required>
        <input name="phone" class="form-control mb-2" placeholder="Phone Number" required>
        <textarea name="address" class="form-control mb-2" placeholder="Address" required></textarea>
        <input name="city" class="form-control mb-2" placeholder="City" required>
        <input name="pincode" class="form-control mb-2" placeholder="Pincode" required>
      </div>
      <div class="modal-footer">
        <button type="submit" class="btn btn-primary">Place Order</button>
      </div>
    </form>
  </div>
</div>

<!-- Order Confirmation Modal -->
<div class="modal fade" id="orderModal" tabindex="-1">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-body text-center">
        <h5>Order placed successfully!</h5>
        <button type="button" class="btn btn-secondary mt-2" data-bs-dismiss="modal">Close</button>
      </div>
    </div>
  </div>
</div>

<!-- Bottom Nav -->
<div class="bottom-nav">
  <a href="index.html"><i class="bi bi-house-door"></i></a>
  <a href="category.html"><i class="bi bi-grid"></i></a>
  <a href="order-history.html"><i class="bi bi-cart"></i></a>
  <i class="bi bi-person" id="personIconBottom" style="cursor:pointer;"></i>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
<script>
document.addEventListener("DOMContentLoaded", function () {
  let cart = [];

  window.addToCart = function(name, price) {
    const idx = cart.findIndex(item => item.name === name);
    if (idx > -1) {
      cart[idx].qty += 1;
    } else {
      cart.push({ name, price, qty: 1 });
    }
    alert("Added to cart!");
  };

  function showCart() {
    const cartItems = document.getElementById("cartItems");
    if (cart.length === 0) {
      cartItems.innerHTML = "<p>Your cart is empty.</p>";
      document.getElementById("checkoutBtn").disabled = true;
    } else {
      cartItems.innerHTML = cart.map(item => `
        <div class="d-flex justify-content-between">
          <span>${item.name}</span>
          <span>₹${item.price} x ${item.qty}</span>
        </div>`).join("") +
        `<hr><div class="text-end fw-bold">Total: ₹${cart.reduce((sum, item) => sum + item.price * item.qty, 0)}</div>`;
      document.getElementById("checkoutBtn").disabled = false;
    }
  }

  document.getElementById("cartIcon").onclick = function () {
    showCart();
    new bootstrap.Modal(document.getElementById("cartModal")).show();
  };

  document.getElementById("checkoutBtn").onclick = function () {
    bootstrap.Modal.getInstance(document.getElementById("cartModal")).hide();
    setTimeout(() => {
      new bootstrap.Modal(document.getElementById("addressModal")).show();
    }, 300);
  };

  document.getElementById("addressForm").onsubmit = function (e) {
    e.preventDefault();

    const formData = new FormData(e.target);
    const addressData = {
      name: formData.get("name"),
      phone: formData.get("phone"),
      address: formData.get("address"),
      city: formData.get("city"),
      pincode: formData.get("pincode")
    };

    const order = {
      items: [...cart],
      total: cart.reduce((sum, item) => sum + item.price * item.qty, 0),
      address: addressData,
      date: new Date().toLocaleString()
    };

    let history = JSON.parse(localStorage.getItem("orderHistory") || "[]");
    history.push(order);
    localStorage.setItem("orderHistory", JSON.stringify(history));

    bootstrap.Modal.getInstance(document.getElementById("addressModal")).hide();
    setTimeout(() => {
      new bootstrap.Modal(document.getElementById("orderModal")).show();
      cart = [];
    }, 300);
  };

  document.getElementById("personIconBottom").onclick = () => {
    alert("Profile/Login feature coming soon!");
  };
});
</script>
</body>
</html>
